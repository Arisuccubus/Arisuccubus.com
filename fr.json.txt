/* LANGUES */
const langSelect = document.getElementById("language");

function loadLang(lang) {
  fetch(lang + ".json")
    .then(res => res.json())
    .then(data => {
      document.querySelectorAll("[data-key]").forEach(el => {
        el.textContent = data[el.dataset.key];
      });
    });
}

langSelect.addEventListener("change", () => {
  loadLang(langSelect.value);
});

loadLang("fr");

/* ACCORDION */
document.querySelectorAll(".accordion").forEach(btn => {
  btn.addEventListener("click", () => {
    const panel = btn.nextElementSibling;
    panel.style.display = panel.style.display === "block" ? "none" : "block";
  });
});

/* LIGHTBOX */
const images = document.querySelectorAll(".gallery-item img");
const lightbox = document.getElementById("lightbox");
const lightboxImg = document.getElementById("lightbox-img");
const closeBtn = document.getElementById("close");

images.forEach(img => {
  img.addEventListener("click", () => {
    lightbox.style.display = "flex";
    lightboxImg.src = img.src;
  });
});

closeBtn.onclick = () => lightbox.style.display = "none";
lightbox.onclick = e => {
  if (e.target === lightbox) lightbox.style.display = "none";
};
